

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to use PropGen, what to put on Wiki, building a PDF file</title>
    
    <link rel="stylesheet" href="_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="customize.html" title="How to customize PropGren"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PropGen 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="how-to-use-propgen-what-to-put-on-wiki-building-a-pdf-file">
<h1>How to use PropGen, what to put on Wiki, building a PDF file</h1>
<p>This section describes how to work with the Wiki to enter actual project information. There are three main types of pages: the main project page, a generic text page to hold free text, and the structured work package pages that contain specific information about tasks in a work package, effort distribution, deliverables and milestones, as well as text describing the actual work to be done in a work package.</p>
<div class="section" id="the-main-project-page">
<h2>The main project page</h2>
<p>The main project page (the Wiki page which you configured under projectName in settings.cfg) collects are the general information about the project and it links to further details providing detailed information. Only pages linked from this page are considered in building the proposal text.</p>
<p>It has four sections: Proposal structure, main data, workpackages, and partner data, described next. It is <strong>important</strong> to keep the structure of this page fixed, else it will not be possible to find relevant information. Sections are recognized by their headings; feel free to move around such sections on the page but do <strong>not</strong> change heading titles or the structure of the individual sections.</p>
<div class="section" id="proposal-structure">
<h3>Proposal structure</h3>
<p>This section has a bullet list, each just having the name of a Wiki page. Each of these Wiki pages will get downloaded from the Wiki and turned into LaTeX code; each such file is treated as a generic text page (see below for details).  The file name of these LaTeX files will be the same as the Wiki name. The main.tex file can then include these files.</p>
<div class="figure">
<img alt="_images/ProposalStructure.png" src="_images/ProposalStructure.png" />
<p class="caption">Screenshot of the example ProposalStructure section of the main page</p>
</div>
<p>The order of the bullets in this list does not matter. The example setup has all the usual sections of a typical EU FP7 proposal and the example main.tex file is already set up to include these files in the appropiate order.</p>
<p>To add further pages, just add a bullet and put the Wiki name in the line. Add an include command in the right place in main.tex. to get rid of a file, simply remove it from the bullet list and remove the corresponding input command from main.tex.</p>
<p>There is one special case here, though: if a file includes the phrase
bibtex (in whatever capitalization), it geets turned into a .bib file,
not a .tex file. Usually, a single such line is suitable to point to
the project&#8217;s bib-file for references, but more are of course
possible. The example setup includes an example with BibtexReferences,
and the main.tex file is setup to use this as a BiBTeX file.</p>
</div>
<div class="section" id="main-data">
<h3>Main data</h3>
<p>The main data section specifies basic data about the project as a whole.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/MainData.png"><img alt="_images/MainData.png" src="_images/MainData.png" /></a>
<p class="caption">Screenshot of main data section</p>
</div>
<p>Similar to the proposal structure section, it is a bullet list with individual items. Here, however, each line is a key/value combination, with the format &#8220;key: value&#8221;. Most lines should be self-explanatory. Duration is the duration of the project in months; do not specify a unit, just the number.</p>
</div>
<div class="section" id="workpackages">
<h3>Workpackages</h3>
<p>The third part is a list of Wiki pages where a workpackage is described. Same syntax as in the proposal structure section, but the treatment of these pages is different. Unlike above, files here are not just downloaded and converted to LaTeX. Instead, a workpackage page needs to follow a certain structure to specify semantics of a workpackage. Details described below.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/WorkpackagesList.png"><img alt="_images/WorkpackagesList.png" src="_images/WorkpackagesList.png" /></a>
<p class="caption">Screenshot of workpackage list section</p>
</div>
</div>
<div class="section" id="partner-data">
<h3>Partner data</h3>
<p>The partner data has more semantic structure. The important part is a table with four columns:</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/PartnerData.png"><img alt="_images/PartnerData.png" src="_images/PartnerData.png" /></a>
<p class="caption">Screenshot of the partner data section</p>
</div>
<dl class="docutils">
<dt>Number</dt>
<dd>Each partner organization needs a number, mostly used for sorting.
The lead partner MUST be number 1.</dd>
<dt>Shortname</dt>
<dd>The acronym to be used for this partner. It shows up in tables, lists,
etc.</dd>
<dt>Name</dt>
<dd>The full, official name of a partner.</dd>
<dt>Nation</dt>
<dd>Stanard ISO abbreviation of the partner&#8217;s legal nation.</dd>
<dt>Type</dt>
<dd>Type of partners: academic, research institute, industry, ...</dd>
<dt>Wiki</dt>
<dd>The name of the Wiki page where this partner&#8217;s profile can be found.
This wiki page is converted to LaTeX and can be included (put into
the partner directory).</dd>
</dl>
<p>The order of the rows is irrelevant.</p>
</div>
</div>
<div class="section" id="a-generic-text-page">
<h2>A generic text page</h2>
<p>A generic text page is converted to LaTeX using the wikiParser class
(Section <a class="reference internal" href="sourcecodedoc.html#sec-wiki-parser"><em>wikiParser</em></a>). It can convert a couple of the
standard Wiki markup syntax into LaTeX code. The source code
description provides more details.</p>
<p>In addition, there is a specific form of markup geared towards the
generation of EU proposals: Whenever there is a pair of level-5 headings of
&#8220;Start commission hints&#8221; and &#8220;End commission hints&#8221;, the text between
these headings is typeset AFTER the first real heading of the page
(the text is moved accordingly). The example MoinMoin Wiki as well as
the wiki templates contain the corresponding hints given by the
commission in the official template. Whether this text is typeset in
the final PDF can be controlled via the control setting
&#8220;showCommissionHints&#8221; in settings.cfg. Obviously, before submitting a
proposal, this setting should be set to False.</p>
<p>Any Wiki page may have, at the beginning, a line:</p>
<p>## Start of text ##</p>
<p>and at the end, a corresponding line:</p>
<p>## End of text ##</p>
<p>These lines need not be present, but if so, text before the start or
after the end is ignored. It is still visible on the wiki, though - so
it might be a useful place to put instructions for partners, kept
discussions about the content of a page on the very page itself, etc.
Note that these markers are available on all kinds of pages, also on
the main page and the workpackage pages.</p>
</div>
<div class="section" id="a-workpackage-page">
<h2>A workpackage page</h2>
<p>A workpackage page is by far the most complex page, it also has a
rather rigid structure. It consists of four sections, one for the
workpackage&#8217;s overview description, one for the task descriptions, one
for adminstrative information about the WP as such, and one last
section for adminstrative information on task level.</p>
<p>A level-1 heading can give the name of the WP; it is not analyzed.</p>
<div class="section" id="work-package-description">
<h3>Work package description</h3>
<p>There must be a <em>level-2 heading</em> &#8220;Objectives&#8221;. All the text after this
headline, up to the following level-2 heading, it used to typeset the
objectives of a work package.</p>
<p>Then, another <em>level-2 heading</em> &#8220;WP Description&#8221; is needed. Text after
this heading, up to the next level-2 heading, is used to typeset a
description of the WP in the WP forms.</p>
</div>
<div class="section" id="tasks-descriptions">
<h3>Tasks descriptions</h3>
<p>After that, the tasks inside a work package are described. The
assumption is that a workpackage consists of a reasonable number of
tasks (even only one, if so desired); it is not possible to do without
tasks and only use workpackages. (Not without considerably reworking a
lot of the templates, at least.) This part is started by a <em>level-2
heading</em> &#8220;Tasks&#8221;.</p>
<p>Inside this section, there can be any number of
<em>level-3 headings</em>, starting with &#8220;Task Description: &#8221;, and then
the <strong>symbolic label</strong> of each task: Each task is assigned a label,
typically a short word or phrase (no spaces!) via which information
about this task at various places in this page can be cross-linked.</p>
<p>Then, there should be, per task, <em>two level-4 headings</em> &#8220;Objectives&#8221; and
&#8220;Description of work&#8221;. The purpose is similar to the WP descriptions,
but they are specifically linked to the particular task.</p>
</div>
<div class="section" id="adminstrative-information">
<h3>Adminstrative information</h3>
<p>The fourth <em>level-2 heading</em> is &#8220;Adminstrative information&#8221;. It is
follwed by the formal information about the workpackage. It is
formatted as a bullet list with key/value pairs to provide
information about the workpackage.</p>
<div class="figure">
<img alt="_images/WPAdminstration.png" src="_images/WPAdminstration.png" />
<p class="caption">A bullet list of key/value pairs to provide adminstrative information
about the workpackage.</p>
</div>
<p>The keys are as follows:</p>
<dl class="docutils">
<dt>Name</dt>
<dd>Full name of the workpackage, as shown in tables and titles.</dd>
<dt>Shortname</dt>
<dd>Abbreviatiation, used in spaced-limited situations.</dd>
<dt>Leadership</dt>
<dd>Shortname of the partner organization which leads this workpackage.</dd>
<dt>Start</dt>
<dd>Month on which the workpackage starts (on the first day of this
month); only put the number there, no &#8220;M1&#8221; or similar.</dd>
<dt>Duration</dt>
<dd>Number of months the WP lasts. A WP starting in month 5 and last for 2
months, for example, will start on the first day of the fifth month of
the project and ends on the last day of the <em>sixth</em> month.</dd>
<dt>Type</dt>
<dd>Type designation of the WP according to the EU commission
classification (e.g., RTD: Research and Development, MGMT: Management,
DEMO: Demonstration).</dd>
</dl>
</div>
<div class="section" id="adminstrative-information-about-tasks">
<h3>Adminstrative information about Tasks</h3>
<p>The <em>level-3 heading</em> &#8220;Tasks&#8221; (note the different levels for the &#8220;Tasks&#8221;
headlines!) announces a table, immediately after the Tasks heading. It specifies the following information
in columns:</p>
<div class="figure">
<img alt="_images/TasksTable.png" src="_images/TasksTable.png" />
<p class="caption">A table listing all the tasks for the particular workpackage.</p>
</div>
<dl class="docutils">
<dt>Label</dt>
<dd>The symbolic label of the task (the same as used above)</dd>
<dt>Start</dt>
<dd>Month of the start of the task. It is assumed to start on the first
day of the month.</dd>
<dt>Duration</dt>
<dd>How long does the task last, in months? For example, a task with Start
month 1 and Duration 1 month starts on the very first day of the
project and ends at the end of the first month.</dd>
<dt>Name</dt>
<dd>The full name of the task, e.g., used in tables and Gantt charts</dd>
<dt>Lead partner</dt>
<dd>Shortname of the partner leading the particular task.</dd>
</dl>
<p>In general, there is a single row per task. A generalization is a task
that consists of multiple <em>phases</em>: It is the task, but is interrupted
and resumed. This can be realized by using one row per phase and using
the <em>same</em> task Label in each row. In the second, third, ... row of a
task, only the Start and Duration fields are considered. (It is
currently not possible to specify different names or task leaders for
different phases of a task; these should be treated as separate
tasks!) Such a multi-phase task shows up in the Gantt charts; see the
example of the &#8220;Improvment of the Architecture&#8221; task.</p>
<p>In this as in all following tables, the first row <em>MUST</em> be present
and have the right labels. The labels are used to find out which
column contains which information; missing labels and incorrectly
formatted labels will result in errors.</p>
</div>
<div class="section" id="task-efforts">
<h3>Task efforts</h3>
<p>Next, there is a <em>level-3</em> heading Effort. It is also followed by
table with the following structure. The first colum - Partner -
contains partner shortnames for partners active in this task. The
following columns have one column per task in this workpackage
(multiple phases are not mentioned separately).</p>
<div class="figure">
<img alt="_images/TaskEffort.png" src="_images/TaskEffort.png" />
<p class="caption">Table to specify effort of partners in each task</p>
</div>
<p>Each row shows the participation of a partner in the corresponding
tasks. Put person months in a field. No floating point numbers can be
used, only integer numbers of months.</p>
<p>Partners not participating in a WP at all need not be mentioned.</p>
</div>
<div class="section" id="milestones">
<h3>Milestones</h3>
<p>The <em>level-3 heading</em> Milestones announces the milestone table for the
workpackage. Its structure follows the guidelines of the EU proposals.
Specify the following columns:</p>
<dl class="docutils">
<dt>Label</dt>
<dd>A symbolic label for the milestone, used to refer to it.</dd>
<dt>Month due</dt>
<dd>When must the milestone be achieved? Just the number of the month,
no &#8220;M&#8221; or similar.</dd>
<dt>Title</dt>
<dd>A full name for the milestone.</dd>
<dt>Contributors</dt>
<dd>A comma-separated list of partner shortname, showing which partners
will make contributions to this milestone. In case you want to
specify a lead partner for a milestone (and similarly for a
deliverable, see below), simply set it in boldface (using the Wiki&#8217;s
specifc markup syntax).</dd>
<dt>Description</dt>
<dd>A brief description text. (Leave empty if not desired.) It is
(typically) typeset in the milestone list per workpackage.</dd>
<dt>Producing task(s)</dt>
<dd>Which tasks contribute to this milestone? Put a comma-separated list
of <em>task labels</em> here. Task labels can also come from different
workpackages; not restricted to the current one. Producing tasks can
be marked as boldface (similar to contributors); however, this</dd>
<dt>Verification means</dt>
<dd>Explain how the project will verify that it has achieved the
milestone. (Required by standard commission template.)</dd>
</dl>
<p>Obviously, one row per milestone.</p>
<div class="figure">
<img alt="_images/MilestoneTable.png" src="_images/MilestoneTable.png" />
<p class="caption">Table specifying milestones</p>
</div>
</div>
<div class="section" id="deliverables">
<h3>Deliverables</h3>
<p>Finally, the last <em>level-3 heading</em> Deliverables announces the table
listing all the deliverables of this workpackage. It has a similar
structure to the milestone table. The only difference is that
&#8220;Verification means&#8221; is replaced by &#8220;Nature&#8221; (report, demonstration,
software, ... -checkcommissiontemplate) and &#8220;Dissemination&#8221;
(restricted RE, public PU, ... - check commission template for details).</p>
<div class="figure">
<img alt="_images/DeliverableTable.png" src="_images/DeliverableTable.png" />
<p class="caption">Table specifying deliverables</p>
</div>
</div>
</div>
<div class="section" id="recognized-wiki-markup">
<h2>Recognized Wiki markup</h2>
<p>Only a limited set of Wiki markup syntax is actually recognized and
translated into LaTeX commands. The following list summarizes the
recognized features (see Section <a class="reference internal" href="sourcecodedoc.html#sec-wiki-parser"><em>wikiParser</em></a> for details):</p>
<ul>
<li><p class="first">Headings are recognized. A level 1 heading is turned into a section,
level 2 headings become subsections, etc.</p>
</li>
<li><p class="first">Bullet lists and enumeration lists are recognized and turned into
itemize and enumerate environments. More precisely, compactitem and
compactenum environments are used for compacter layouting. These</p>
</li>
<li><p class="first">There is some support for figure inclusion. The basic idea is
recognize a figure tag of the form &lt;img key=value, key=value&gt;. The
following keys are recognized:</p>
<blockquote>
<div><p>file</p>
<blockquote>
<div><p>Its value is assumed to give the filename of a PDF file in the
latex/figure directory.</p>
</div></blockquote>
<p>label</p>
<blockquote>
<div><p>Value will become the label in the LaTeX figure environment, for
cross-referencing.</p>
</div></blockquote>
<p>caption</p>
<blockquote>
<div><p>The caption text to be used in the figure environment</p>
</div></blockquote>
<p>latexwidth</p>
<blockquote>
<div><p>The value is used to scale the figure proportionally to
textwidth. It should be a value between 0 and 1. The default, if
this key is not present, is to scale the figure to 0.8 of
textwidth.</p>
</div></blockquote>
</div></blockquote>
<p>Obviously, this is inspired by the twiki way of doing figures. In
fact, the key/value pairs can be included in the twiki commands for
figure inclusion. Moinmoin is much less amenable to extending its own
syntax. It is indeed a bit cumbersome to include a figure in moinmoin,
necessitating effectively two include commands: one to have the figure
appear on the wiki, one to refer to the PDF file and trigger the
generation of the LaTeX figure environment. Any goods ideas here are
much appreciated.</p>
</li>
<li><p class="first">Tables are turned into tabular commands. Columns are equally wide,
spaced to 80% of the textwidth. To fine-tuning the looks of these
columns, you can specify the column layout: Write e.g.</p>
<blockquote>
<div><p>## TABULAR: c|p{0.2textwidth}|r #</p>
</div></blockquote>
<p>on a separate line, immediately before the actual table in the wiki
markup. Anything between TABULAR: and the closing # will be turned
into the argument of the tabular environment in the LaTeX markup. No
table environment is generated, if you want that, you can simply
enclose the Wiki table with the corresponding LaTeX commands, they are
passed through unhindered.</p>
</li>
<li><p class="first">Some attempts are made to maintain special characters. In particular:</p>
<ul class="simple">
<li>Boldface markup is recognized</li>
<li>Italics markup as well</li>
<li>Line breaks specified by &lt;BR&gt; turn into newline commands</li>
<li>Commands of the form: #TODO: some text # are turned into fxwarning
commands of the fixme package (and appear in warnings.tex)</li>
<li>Some attempts are made to provide correct left and right quotation
marks; guessing is based on spaces before or after a quotation mark &#8221;.</li>
<li>Pure hash marks # are protected by turning them in #.</li>
<li>So are ampersand marks &amp;.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="building-a-pdf-file">
<h2>Building a PDF file</h2>
<p>When everything is setup correctly, doing an actual build is trivial:
On a command line, go into the main project directory and type make!</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Holger Karl.
      Last updated on Mar 02, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>